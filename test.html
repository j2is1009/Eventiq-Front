<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>그룹 멤버 상세 정보</title>
    <style>
        /* 기존 스타일 유지 */
        
        /* 프로필 섹션 스타일 추가 */
        .profile-section {
            padding: 32px;
            display: flex;
            gap: 32px;
            align-items: flex-start;
            border-bottom: 1px solid var(--border-color);
        }

        .profile-image-container {
            position: relative;
            width: 120px;
            height: 120px;
            flex-shrink: 0;
        }

        .profile-image {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
            border: 1px solid var(--border-color);
        }

        .profile-info {
            flex: 1;
        }

        .profile-header {
            margin-bottom: 24px;
        }

        .member-name {
            font-size: 24px;
            color: var(--text-primary);
            margin: 0 0 8px 0;
        }

        .member-role {
            display: inline-block;
            padding: 6px 12px;
            background: #e0f2fe;
            color: #0369a1;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }

        .info-item {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .info-label {
            font-size: 14px;
            color: var(--text-secondary);
        }

        .info-value {
            font-size: 16px;
            color: var(--text-primary);
        }

        /* 권한 섹션 수정 */
        .permissions-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
            padding: 24px 24px 0 24px;
        }

        .permissions-title-group {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .permissions-controls {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .subscription-badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
        }

        .subscription-badge.free {
            background: #f1f5f9;
            color: #64748b;
        }

        .subscription-badge.premium {
            background: #fef3c7;
            color: #b45309;
        }

        @media (max-width: 768px) {
            .profile-section {
                flex-direction: column;
                align-items: center;
                text-align: center;
                padding: 24px;
            }

            .profile-info {
                width: 100%;
            }

            .info-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- 페이지 헤더 -->
        <div class="page-header">
            <h1 class="page-title">그룹 멤버 상세 정보</h1>
            <button class="back-button" onclick="history.back()">
                ← 목록으로 돌아가기
            </button>
        </div>

        <!-- 프로필 카드 -->
        <div class="content-card">
            <!-- 프로필 섹션 -->
            <div class="profile-section">
                <div class="profile-image-container">
                    <img src="https://api.a0.dev/assets/image?text=profile%20picture&aspect=1:1" 
                         alt="프로필 이미지" 
                         class="profile-image">
                </div>
                <div class="profile-info">
                    <div class="profile-header">
                        <h2 class="member-name">홍길동</h2>
                        <span class="member-role">오거나이저</span>
                    </div>
                    <div class="info-grid">
                        <div class="info-item">
                            <span class="info-label">아이디</span>
                            <span class="info-value">user123</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">이메일</span>
                            <span class="info-value">hong@example.com</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">휴대전화</span>
                            <span class="info-value">010-1234-5678</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">가입일</span>
                            <span class="info-value">2024.02.21</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 권한 설정 섹션 -->
            <div class="permissions-header">
                <div class="permissions-title-group">
                    <h2 class="section-title">권한 설정</h2>
                    <span class="subscription-badge premium">Premium</span>
                </div>
                <div class="permissions-controls">
                    <button class="btn btn-primary" id="editPermissionBtn">
                        권한 변경
                    </button>
                </div>
            </div>

            <div class="permissions-section">
                <!-- 이벤트 관리 권한 -->
                <div class="permission-group">
                    <div class="group-header">
                        <h3 class="group-title">이벤트 관리</h3>
                        <label class="checkbox-wrapper">
                            <input type="checkbox" class="group-toggle">
                            전체 선택
                        </label>
                    </div>
                    <div class="permission-items">
                        <label class="checkbox-wrapper">
                            <input type="checkbox" name="event_read">
                            조회
                        </label>
                        <label class="checkbox-wrapper">
                            <input type="checkbox" name="event_write">
                            등록
                        </label>
                        <label class="checkbox-wrapper">
                            <input type="checkbox" name="event_modify">
                            수정
                        </label>
                        <label class="checkbox-wrapper">
                            <input type="checkbox" name="event_delete">
                            삭제
                        </label>
                    </div>
                </div>

                <!-- 참가자 관리 권한 -->
                <div class="permission-group">
                    <div class="group-header">
                        <h3 class="group-title">참가자 관리</h3>
                        <label class="checkbox-wrapper">
                            <input type="checkbox" class="group-toggle">
                            전체 선택
                        </label>
                    </div>
                    <div class="permission-items">
                        <label class="checkbox-wrapper">
                            <input type="checkbox" name="participant_read">
                            조회
                        </label>
                        <label class="checkbox-wrapper">
                            <input type="checkbox" name="participant_write">
                            등록
                        </label>
                        <label class="checkbox-wrapper">
                            <input type="checkbox" name="participant_modify">
                            수정
                        </label>
                        <label class="checkbox-wrapper">
                            <input type="checkbox" name="participant_delete">
                            삭제
                        </label>
                    </div>
                </div>

                <!-- 자료 관리 권한 -->
                <div class="permission-group">
                    <div class="group-header">
                        <h3 class="group-title">자료 관리</h3>
                        <label class="checkbox-wrapper">
                            <input type="checkbox" class="group-toggle">
                            전체 선택
                        </label>
                    </div>
                    <div class="permission-items">
                        <label class="checkbox-wrapper">
                            <input type="checkbox" name="material_read">
                            조회
                        </label>
                        <label class="checkbox-wrapper">
                            <input type="checkbox" name="material_write">
                            등록
                        </label>
                        <label class="checkbox-wrapper">
                            <input type="checkbox" name="material_modify">
                            수정
                        </label>
                        <label class="checkbox-wrapper">
                            <input type="checkbox" name="material_delete">
                            삭제
                        </label>
                    </div>
                </div>
            </div>
        </div>

        <!-- 하단 버튼 영역 -->
        <div class="page-actions">
            <button class="btn btn-danger" id="removeUserBtn">그룹에서 내보내기</button>
            <div class="action-buttons">
                <button class="btn btn-primary" onclick="savePermissions()">변경사항 저장</button>
            </div>
        </div>
    </div>

    <script>
        // 권한 상태 업데이트 함수
        function updatePermissionControls(isPremium, isHost) {
            const allCheckboxes = document.querySelectorAll('input[type="checkbox"]');
            const editPermissionBtn = document.getElementById('editPermissionBtn');
            const removeUserBtn = document.getElementById('removeUserBtn');
            const subscriptionBadge = document.querySelector('.subscription-badge');

            // 권한 변경 버튼 상태 설정
            editPermissionBtn.disabled = !isPremium;
            editPermissionBtn.style.opacity = isPremium ? '1' : '0.5';

            // 체크박스 상태 설정
            allCheckboxes.forEach(checkbox => {
                checkbox.disabled = !isPremium || !isHost;
            });

            // 내보내기 버튼 표시 설정
            removeUserBtn.style.display = isHost ? 'block' : 'none';

            // 구독 상태 배지 업데이트
            if (isPremium) {
                subscriptionBadge.className = 'subscription-badge premium';
                subscriptionBadge.textContent = 'Premium';
            } else {
                subscriptionBadge.className = 'subscription-badge free';
                subscriptionBadge.textContent = 'Free';
            }
        }

        // 그룹 전체 선택 토글
        document.querySelectorAll('.group-toggle').forEach(toggle => {
            toggle.addEventListener('change', (e) => {
                const group = e.target.closest('.permission-group');
                const checkboxes = group.querySelectorAll('input[type="checkbox"]:not(.group-toggle)');
                checkboxes.forEach(checkbox => {
                    checkbox.checked = e.target.checked;
                });
            });
        });

        // 권한 저장
        function savePermissions() {
            // 권한 저장 로직 구현
            alert('권한이 저장되었습니다.');
        }

        // 그룹에서 내보내기
        document.getElementById('removeUserBtn').addEventListener('click', () => {
            if (confirm('정말로 이 멤버를 그룹에서 내보내시겠습니까?')) {
                // 내보내기 로직 구현
                alert('멤버가 그룹에서 제외되었습니다.');
                history.back();
            }
        });

        // 초기 권한 상태 설정 (예시)
        updatePermissionControls(true, true); // Premium 사용자이면서 주최자인 경우
    </script>
</body>
</html>